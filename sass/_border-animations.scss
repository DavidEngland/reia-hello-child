// _border-animations.scss
// ============================================================================
// Border Animations for REIA Theme
// Minimal, essential border animation system to replace border-animations plugin
// Uses CSS custom properties for maximum flexibility and theme integration
//
// USAGE EXAMPLES:
// ==============
// Basic rotating border: <div class="ba-conic-border">Content</div>
// Rainbow gradient:      <div class="ba-conic-rainbow">Content</div>  
// Property card:         <div class="reia-property-card">Property</div>
// CTA button:            <a class="reia-cta-button">Call to Action</a>
// Service card:          <div class="ba-service-card">Service</div>
// Agent card:            <div class="reia-agent-card">Agent Info</div>
// Testimonial:           <div class="reia-testimonial">Testimonial</div>
// Hero section:          <div class="reia-hero-card">Hero Content</div>
//
// CUSTOMIZATION:
// ==============
// Override CSS custom properties:
// .my-card { --ba-color: #ff6b6b; --ba-rotation-duration: 2s; }
// ============================================================================

// Import variables for consistency
@use 'variables' as *;

// Animation variables - extends existing theme variables
:root {
  // Border animation specific variables
  --ba-color: var(--accent, #{$accent});
  --ba-color-alt: #ac3033;
  --ba-color-accent: #ffd700;
  --ba-color-secondary: var(--primary, #{$primary});
  --ba-width: 4px;
  --ba-radius: 1rem;
  --ba-duration: 4s;
  --ba-pulse-duration: 1.2s;
  --ba-transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

  // Conic gradient border settings
  --ba-conic-inset: 4px;
  --ba-conic-size: 200%;
  --ba-conic-position: -50%;
  --ba-background-color: #393e41;
  --ba-border-bg: #111;

  // Animation timing
  --ba-rotation-duration: 4s;
  --ba-hover-pause: paused;
}

// Base animated border class
.ba-animate {
  position: relative;
  border-radius: var(--ba-radius);
  transition: var(--ba-transition);
  isolation: isolate;
  overflow: hidden;
}

// Advanced conic gradient rotating border (inspired by Animated-Border-Card)
.ba-conic-border {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--ba-background-color);
  border-radius: var(--ba-radius);
  isolation: isolate;
  overflow: hidden;
  padding: 2rem;
  color: white;

  &::before {
    content: '';
    position: absolute;
    width: var(--ba-conic-size);
    height: var(--ba-conic-size);
    background-image: conic-gradient(
      var(--ba-color) 0deg,
      transparent 60deg,
      transparent 180deg,
      var(--ba-color) 180deg,
      transparent 240deg
    );
    inset: var(--ba-conic-position);
    z-index: -2;
    animation: ba-conic-rotate var(--ba-rotation-duration) linear infinite;
  }

  &::after {
    content: '';
    position: absolute;
    background: var(--ba-border-bg);
    inset: var(--ba-conic-inset);
    border-radius: calc(var(--ba-radius) - var(--ba-conic-inset));
    z-index: -1;
    transition: all 0.3s linear;
  }

  &:hover::before {
    animation-play-state: var(--ba-hover-pause);
  }

  &:hover::after {
    background: var(--ba-background-color);
  }
}

// Multi-color conic gradient variant
.ba-conic-rainbow {
  @extend .ba-conic-border;

  &::before {
    background-image: conic-gradient(
      var(--ba-color) 0deg,
      var(--ba-color-accent) 60deg,
      var(--ba-color-secondary) 120deg,
      var(--ba-color) 180deg,
      var(--ba-color-accent) 240deg,
      var(--ba-color-secondary) 300deg,
      var(--ba-color) 360deg
    );
  }
}

// Animated solid border with enhanced conic gradient backdrop
.ba-animated-solid {
  position: relative;
  border: var(--ba-width) solid transparent;
  background: linear-gradient(135deg, #f8f9fa, #fff) padding-box;
  border-radius: var(--ba-radius);
  isolation: isolate;
  overflow: hidden;
  box-shadow:
    0 2px 12px rgba(0,0,0,0.07),
    inset 0 1px 0 rgba(255, 255, 255, 0.8);
}

.ba-animated-solid::before {
  content: "";
  position: absolute;
  width: 200%;
  height: 200%;
  background-image: conic-gradient(
    var(--ba-color) 0deg,
    transparent 40deg,
    transparent 140deg,
    var(--ba-color) 180deg,
    transparent 220deg,
    transparent 320deg,
    var(--ba-color) 360deg
  );
  inset: -50%;
  z-index: -2;
  animation: ba-conic-rotate var(--ba-rotation-duration) linear infinite;
}

.ba-animated-solid::after {
  content: "";
  position: absolute;
  inset: 2px;
  background: inherit;
  border-radius: calc(var(--ba-radius) - 2px);
  z-index: -1;
}

.ba-animated-solid:hover::before {
  animation-duration: calc(var(--ba-rotation-duration) * 0.5);
}

// Enhanced border animation with rotating conic gradient
.ba-animated-border {
  position: relative;
  background: white;
  border-radius: var(--ba-radius);
  isolation: isolate;
  overflow: hidden;
  transition: transform 0.3s ease;

  &::before {
    content: "";
    position: absolute;
    width: 200%;
    height: 200%;
    background-image: conic-gradient(
      var(--ba-color) 0deg,
      var(--ba-color-accent) 90deg,
      var(--ba-color) 180deg,
      var(--ba-color-accent) 270deg,
      var(--ba-color) 360deg
    );
    inset: -50%;
    z-index: -2;
    animation: ba-conic-rotate var(--ba-rotation-duration) linear infinite;
  }

  &::after {
    content: "";
    position: absolute;
    inset: 3px;
    background: inherit;
    border-radius: calc(var(--ba-radius) - 3px);
    z-index: -1;
  }

  &:hover {
    transform: scale(1.02);

    &::before {
      animation-duration: calc(var(--ba-rotation-duration) * 0.3);
    }
  }
}

// Advanced glow effect with rotating border
.ba-glow {
  position: relative;
  background: var(--ba-background-color);
  border-radius: var(--ba-radius);
  isolation: isolate;
  overflow: hidden;
  transition: var(--ba-transition);

  &::before {
    content: "";
    position: absolute;
    width: 150%;
    height: 150%;
    background-image: conic-gradient(
      transparent 0deg,
      var(--ba-color) 45deg,
      transparent 90deg,
      transparent 180deg,
      var(--ba-color) 225deg,
      transparent 270deg
    );
    inset: -25%;
    z-index: -2;
    animation: ba-conic-rotate calc(var(--ba-rotation-duration) * 1.5) linear infinite;
    filter: blur(8px);
    opacity: 0.9;
  }

  &::after {
    content: "";
    position: absolute;
    inset: 2px;
    background: inherit;
    border-radius: calc(var(--ba-radius) - 2px);
    z-index: -1;
  }

  &:hover {
    &::before {
      opacity: 1;
      filter: blur(12px);
      animation-duration: calc(var(--ba-rotation-duration) * 0.8);
    }
  }
}

// Dashed animated border with conic gradient
.ba-dashed {
  position: relative;
  background: linear-gradient(135deg, #fff9e6, #fffbe7);
  border-radius: var(--ba-radius);
  isolation: isolate;
  overflow: hidden;

  &::before {
    content: "";
    position: absolute;
    width: 200%;
    height: 200%;
    background-image: conic-gradient(
      var(--ba-color-alt) 0deg,
      transparent 30deg,
      var(--ba-color-accent) 60deg,
      transparent 90deg,
      var(--ba-color-alt) 180deg,
      transparent 210deg,
      var(--ba-color-accent) 240deg,
      transparent 270deg
    );
    inset: -50%;
    z-index: -2;
    animation: ba-conic-rotate calc(var(--ba-rotation-duration) * 0.8) ease-in-out infinite;
  }

  &::after {
    content: "";
    position: absolute;
    inset: 4px;
    background: inherit;
    border-radius: calc(var(--ba-radius) - 4px);
    z-index: -1;
  }
}

// Keyframe animations
@keyframes ba-conic-rotate {
  to {
    transform: rotate(-360deg);
  }
}

@keyframes ba-pulse-enhanced {
  0% {
    box-shadow:
      0 2px 12px rgba(0,0,0,0.07),
      0 0 0 0 rgba(0, 115, 230, 0.7),
      inset 0 1px 0 rgba(255, 255, 255, 0.8);
    transform: scale(1);
  }
  100% {
    box-shadow:
      0 4px 20px rgba(0, 45, 95, 0.1),
      0 0 0 12px rgba(0, 115, 230, 0),
      inset 0 1px 0 rgba(255, 255, 255, 0.8);
    transform: scale(1.02);
  }
}

@keyframes ba-gradient-shift {
  0%, 100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

// Reverse rotation for variety
@keyframes ba-conic-rotate-reverse {
  to {
    transform: rotate(360deg);
  }
}

// Slower rotation for subtle effects
@keyframes ba-conic-rotate-slow {
  to {
    transform: rotate(-360deg);
  }
}

// Utility classes for common use cases
.ba-button {
  @extend .ba-conic-border;
  padding: 12px 24px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  cursor: pointer;
  user-select: none;
  text-decoration: none;
  font-weight: 500;
  transition: all 0.3s ease;

  &:hover {
    --ba-rotation-duration: 2s;
    transform: translateY(-2px);
  }
}

.ba-card {
  @extend .ba-animated-border;
  padding: 2rem;
  background: white;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);

  &:hover {
    --ba-color: var(--ba-color-accent);
    box-shadow: 0 8px 40px rgba(0, 0, 0, 0.15);
  }
}

// Service card with advanced rotating border
.ba-service-card {
  @extend .ba-conic-rainbow;
  padding: 2.5rem;
  text-align: center;
  min-height: 300px;
  display: flex;
  flex-direction: column;
  justify-content: center;

  .ba-icon {
    font-size: 3rem;
    color: transparent;
    -webkit-text-stroke: 2px var(--ba-color);
    margin-bottom: 1.5rem;
    transition: all 0.3s ease;
  }

  &:hover .ba-icon {
    color: var(--ba-color);
    -webkit-text-stroke-width: 0;
    transform: scale(1.1);
  }

  .ba-title {
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--ba-color);
    margin-bottom: 1rem;
  }

  .ba-description {
    opacity: 0.8;
    line-height: 1.6;
  }
}

// Real estate specific animations
.reia-property-card {
  @extend .ba-animated-border;
  padding: 1.5rem;
  background: white;
  box-shadow: 0 2px 15px rgba(0, 0, 0, 0.08);
  transition: all 0.3s ease;

  &:hover {
    --ba-color: var(--ba-color-accent);
    --ba-rotation-duration: 2s;
    transform: translateY(-5px) scale(1.02);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
  }
}

.reia-cta-button {
  @extend .ba-button;
  --ba-color: var(--accent, #0073e6);
  --ba-background-color: var(--accent, #0073e6);
  color: white;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;

  &::after {
    background: var(--accent, #0073e6);
  }

  &:hover {
    --ba-color: var(--ba-color-accent);
    --ba-rotation-duration: 1.5s;
  }
}

// Hero section with dramatic rotating border
.reia-hero-card {
  @extend .ba-conic-rainbow;
  padding: 4rem 3rem;
  text-align: center;
  min-height: 400px;
  --ba-rotation-duration: 6s;
  --ba-conic-inset: 6px;

  &:hover {
    --ba-rotation-duration: 3s;
  }
}

// Agent contact card
.reia-agent-card {
  @extend .ba-conic-border;
  padding: 2rem;
  text-align: center;
  --ba-background-color: #2c3e50;
  --ba-border-bg: #34495e;

  .agent-avatar {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background: var(--ba-color);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    font-weight: bold;
    margin: 0 auto 1rem;
  }
}

// Testimonial card with subtle animation
.reia-testimonial {
  @extend .ba-glow;
  padding: 2rem;
  --ba-background-color: rgba(255, 255, 255, 0.95);
  --ba-rotation-duration: 8s;

  blockquote {
    font-style: italic;
    font-size: 1.1rem;
    line-height: 1.6;
    margin-bottom: 1rem;
    color: #333;

    &::before,
    &::after {
      content: '"';
      font-size: 1.5rem;
      color: var(--ba-color);
    }
  }

  cite {
    font-weight: 600;
    color: var(--ba-color);
  }
}
